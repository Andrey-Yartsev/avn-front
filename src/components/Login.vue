<template>
  <div class="login">
    <div class="login-wrapper">
      <div class="login-caption-col">
        <div class="login-caption">
          <div class="logo">
            <a href="/">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 24">
                <defs>
                  <symbol id="a" data-name="logo-full" viewBox="0 0 100 24">
                    <rect class="a" width="100" height="24"/>
                    <g>
                      <path class="b"
                            d="M21.29,18.94A1.58,1.58,0,0,1,20,18.37a2.66,2.66,0,0,1-.52-1.5,22.81,22.81,0,0,1,.08-3c.1-1.4.21-2.68.34-3.84L19,8.54a4.48,4.48,0,0,1,2.61-1c.82,0,1.27.47,1.33,1.39a5.24,5.24,0,0,1-.2,1.87l.16.09q1.32-3.34,3.74-3.35c1.18,0,1.83.74,1.94,2.22a20,20,0,0,1-.2,3.21,19,19,0,0,0-.18,3.42A3.57,3.57,0,0,0,28.63,18a2,2,0,0,1-1.58.9c-1.12,0-1.74-.76-1.85-2.27a14.8,14.8,0,0,1,.23-2.85,15.24,15.24,0,0,0,.25-2.61c0-.55-.23-.83-.56-.83a1.44,1.44,0,0,0-.91.45A4.87,4.87,0,0,0,23.28,12,6.61,6.61,0,0,0,22.6,14a8.1,8.1,0,0,0-.17,2.36A3.63,3.63,0,0,0,22.87,18,2,2,0,0,1,21.29,18.94Z"/>
                      <path class="c"
                            d="M43.37,11.14c.2-2.43.28-3.83.26-4.21-.09-1.13-.51-1.7-1.26-1.7a4,4,0,0,0-2.16.62,5.21,5.21,0,0,0-1.63,1.7,15,15,0,0,0-1.76,4.81h-.17a25.36,25.36,0,0,0-1.2-5.17A3.74,3.74,0,0,0,34.72,6a2.22,2.22,0,0,0-.85-.59,2.9,2.9,0,0,0-1-.16,4.64,4.64,0,0,0-2.92,1.34l.92,2q-.46,6.36-.36,7.73a4.14,4.14,0,0,0,.56,2,1.58,1.58,0,0,0,1.41.69,2.52,2.52,0,0,0,1.78-.82,5.94,5.94,0,0,1-.63-2.49,36.36,36.36,0,0,1,.32-5.54h.23a31.42,31.42,0,0,0,1.25,6.47,4.29,4.29,0,0,0,.65,1.18.92.92,0,0,0,.7.34,2,2,0,0,0,1.59-.84,18.39,18.39,0,0,1,.45-3.66A13.09,13.09,0,0,1,40,10.11h.23A61.2,61.2,0,0,0,40,16.25a4.2,4.2,0,0,0,.56,2A1.59,1.59,0,0,0,42,19a2.51,2.51,0,0,0,1.77-.82,6.45,6.45,0,0,1-.64-2.66C43.09,15,43.17,13.57,43.37,11.14ZM54,9.56c-.1-1.36-.62-2.05-1.57-2.05a2.91,2.91,0,0,0-1.73.79A3.37,3.37,0,0,1,51,9.47a29,29,0,0,1-1,6.93h-.85c0-.61,0-1.14-.07-1.59a31.94,31.94,0,0,0-.57-4.35A7.4,7.4,0,0,0,48,8.88a2.94,2.94,0,0,0-.75-1,1.56,1.56,0,0,0-1-.38,2.05,2.05,0,0,0-1.67.79A5.58,5.58,0,0,1,46,11.61c.07.46.17,1.25.29,2.37s.23,2,.32,2.55a2.44,2.44,0,0,0,.64,1.39,1.64,1.64,0,0,0,1.2.51,3.1,3.1,0,0,0,1.35-.31,3.09,3.09,0,0,1-.71,1.5,1.5,1.5,0,0,1-1.09.49,2.23,2.23,0,0,1-1.85-1.24,3.6,3.6,0,0,0-.4,1.89,1.93,1.93,0,0,0,.78,1.46,2.76,2.76,0,0,0,1.75.56q3.43,0,4.81-6.62c0-.08.08-.38.19-.88A23.44,23.44,0,0,0,54,9.56Z"/>
                      <path class="d"
                            d="M63.71,6.64a5.57,5.57,0,0,0-.21-1.19,17.47,17.47,0,0,1-2.32.71,12,12,0,0,1-2.26-.38,10.36,10.36,0,0,0-2.36-.37,1.7,1.7,0,0,0-1.42.75,3.26,3.26,0,0,0-.45,2.23,4.79,4.79,0,0,0,.2,1.19A20.74,20.74,0,0,1,57.63,9c-.28,3.94-.38,6.36-.32,7.27a4.37,4.37,0,0,0,.56,2,1.59,1.59,0,0,0,1.42.69,2.5,2.5,0,0,0,1.77-.82,6.31,6.31,0,0,1-.63-2.66q0-.62.37-5.9c.3,0,.53,0,.71,0a2.08,2.08,0,0,0,1.68-.75A3.05,3.05,0,0,0,63.71,6.64Zm8,3.63a3.09,3.09,0,0,0-.85-2,2.91,2.91,0,0,0-2.12-.76,4.82,4.82,0,0,0-3.94,1.84,6.59,6.59,0,0,0-1.27,4.78,5.64,5.64,0,0,0,1.35,3.51,4.11,4.11,0,0,0,3.2,1.3A3.66,3.66,0,0,0,70.75,18a2.51,2.51,0,0,0,.91-2c-.06-.84-.81-1.26-2.23-1.26a2.2,2.2,0,0,1-.31,1.55,1.16,1.16,0,0,1-1,.48,1.23,1.23,0,0,1-1-.67,4.45,4.45,0,0,1-.56-1.84,6,6,0,0,0,4-1.14A3.31,3.31,0,0,0,71.74,10.27Zm-3,1.68a3.55,3.55,0,0,1-2.15.83,5.84,5.84,0,0,1,.74-2.19,1.55,1.55,0,0,1,1.3-.94.63.63,0,0,1,.51.24,1,1,0,0,1,.23.6A1.86,1.86,0,0,1,68.78,12Zm13.29.55a26.3,26.3,0,0,0,.23-3.08c-.07-1-.46-1.45-1.17-1.45a2.24,2.24,0,0,0-1.47.59,8.12,8.12,0,0,0-.17-.9,4.36,4.36,0,0,0-1.17-.15A4.64,4.64,0,0,0,74.4,9.56a7.45,7.45,0,0,0-1.26,5.08,6.07,6.07,0,0,0,1,3.13,2.47,2.47,0,0,0,2.08,1.17,2.11,2.11,0,0,0,1.59-.74,4.37,4.37,0,0,0,1-2.06l.15.09a4.16,4.16,0,0,0,.56,2.05,1.5,1.5,0,0,0,1.33.66,2.18,2.18,0,0,0,1.65-.9,2.58,2.58,0,0,1-.58-1.71A22.88,22.88,0,0,1,82.07,12.5ZM79,13.69a3.66,3.66,0,0,1-.81,1.41,1.5,1.5,0,0,1-1.06.51,1,1,0,0,1-.9-.48,2.86,2.86,0,0,1-.4-1.38,4.42,4.42,0,0,1,.9-3.09,3.1,3.1,0,0,1,2.52-1.34A41.38,41.38,0,0,0,79,13.69Zm19.57,2.67a19,19,0,0,1,.18-3.42A20,20,0,0,0,99,9.73c-.11-1.48-.76-2.22-1.94-2.22q-2.27,0-3.6,3.35l-.15-.09a5.08,5.08,0,0,0,.06-1.21A2.33,2.33,0,0,0,92.73,8a1.82,1.82,0,0,0-1.33-.52q-2.28,0-3.6,3.35l-.16-.09a5.49,5.49,0,0,0,.21-1.87c-.07-.92-.52-1.39-1.34-1.39a4.48,4.48,0,0,0-2.61,1L84.77,10c-.13,1.16-.24,2.44-.34,3.84a22.72,22.72,0,0,0-.09,2.83c.11,1.51.73,2.27,1.85,2.27a2,2,0,0,0,1.58-.9,3.75,3.75,0,0,1-.44-1.72A8.46,8.46,0,0,1,87.48,14,7,7,0,0,1,88.11,12,4.79,4.79,0,0,1,89,10.83a1.36,1.36,0,0,1,.88-.45c.34,0,.52.28.56.83a16,16,0,0,1-.24,2.61A15,15,0,0,0,90,16.67c.12,1.51.73,2.27,1.86,2.27a2,2,0,0,0,1.57-.9A3.77,3.77,0,0,1,93,16.32,8.85,8.85,0,0,1,93.09,14,7.31,7.31,0,0,1,93.73,12a4.56,4.56,0,0,1,.88-1.21,1.33,1.33,0,0,1,.88-.45c.33,0,.52.28.56.83a15.24,15.24,0,0,1-.25,2.61,15.69,15.69,0,0,0-.23,2.85c.11,1.51.73,2.27,1.85,2.27A2,2,0,0,0,99,18,3.69,3.69,0,0,1,98.57,16.36Z"/>
                    </g>
                    <path class="b"
                          d="M10,4a8,8,0,1,0,8,8A8,8,0,0,0,10,4Zm6.89,9.6c-1.17.16-1.19.17-1.34,1.35a.42.42,0,0,1-.84,0c0-.2-.05-.36-.07-.5a6.65,6.65,0,0,1-5.13,3.27H9.44c-3,0-5-3.9-5-6.58,0-1.41.66-4.07,3.12-4.07a4.35,4.35,0,0,1,3.45,2,4.6,4.6,0,0,1,1.75-.38,2.68,2.68,0,0,1,2.81,2.76c.14,1.13.17,1.15,1.33,1.3a.41.41,0,0,1,.37.42A.41.41,0,0,1,16.89,13.6Z"/>
                    <path class="e"
                          d="M10,4.5A7.5,7.5,0,1,0,17.5,12,7.5,7.5,0,0,0,10,4.5ZM9.44,17.72c-3,0-5-3.9-5-6.58,0-1.41.66-4.07,3.12-4.07,3.06,0,5,3.9,5,6.58C12.56,15.06,11.91,17.72,9.44,17.72Zm7.45-4.12c-1.17.16-1.19.17-1.34,1.35a.42.42,0,0,1-.84,0c-.15-1.18-.16-1.19-1.34-1.35a.41.41,0,0,1-.37-.42.41.41,0,0,1,.37-.42c1.18-.15,1.19-.16,1.34-1.34a.42.42,0,0,1,.84,0c.15,1.18.17,1.19,1.34,1.34a.41.41,0,0,1,.37.42A.41.41,0,0,1,16.89,13.6Z"/>
                    <path class="f"
                          d="M10,4.5A7.5,7.5,0,1,0,17.5,12,7.5,7.5,0,0,0,10,4.5Zm6.89,9.1c-1.17.16-1.19.17-1.34,1.35a.42.42,0,0,1-.84,0c0-.2-.05-.36-.07-.5a6.65,6.65,0,0,1-5.13,3.27A2.69,2.69,0,0,1,6.7,14.86c0-2.93,3.17-6.16,6.05-6.16a2.68,2.68,0,0,1,2.81,2.76c.14,1.13.17,1.15,1.33,1.3a.41.41,0,0,1,.37.42A.41.41,0,0,1,16.89,13.6Z"/>
                  </symbol>
                </defs>
                <title>logo-full</title>
                <use width="100" height="24" xlink:href="#a"/>
              </svg>
            </a>
          </div>
          <p class="promotion">Share and check what others have going on right now</p>
        </div>
        <div class="login-footer hidden-mobile">
          <a href="/terms">Terms</a>
          <a href="/privacy">Privacy</a>
          <a href="/contact">Contact</a>
          <a href="https://epoch.com/" target="_blank">Billing Support</a>
        </div>
        <div class="login-footer second-footer hidden-mobile">
          <a href="/2257">18 U.S.C. 2257 Record-Keeping Requirements Compliance Statement</a>
        </div>
      </div>
      <div class="login-form-col">
        <form>
          <input class="lg rounded" type="email" name="email" placeholder="Email"  autocomplete="email"/>
          <input class="lg rounded" type="password" name="password" placeholder="Password"
                 autocomplete="current-password"/>

          <vue-recaptcha
            ref="recaptcha"
            @verify="onCaptchaVerified"
            @expired="onCaptchaExpired"

            sitekey="6LeeX1IUAAAAAAFOfsT_ZL72M_6AXCdHejfQgTdn"
          />

          <div class="hidden error">Email or password incorrect</div>
          <button type="submit" class="btn lg alt block" @click.prevent="login">Login</button>
        </form>
        <div class="login-or"><span>or</span></div>
        <button class="btn lg block twitter">Sign in with Twitter</button>
        <div class="signUp">
          <h3>Don't have an account yet?</h3>
          <p><a href="/register" class="register">Sign up for OnMyTeam.com</a></p>
          <p class="forgot"><a href="/forgot" class="forgot">Forgot your password?</a></p>
        </div>
        <div class="login-footer hidden-desktop">
          <a href="/terms">Terms</a>
          <a href="/privacy">Privacy</a>
          <a href="/contact">Contact</a>
          <a href="https://epoch.com/" target="_blank">Billing Support</a>
        </div>
        <div class="login-footer second-footer hidden-desktop">
          <a href="/2257">18 U.S.C. 2257 Record-Keeping Requirements Compliance Statement</a>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
  import auth from '@/api/auth'
  import VueRecaptcha from 'vue-recaptcha';

  export default {
    name: 'Login',

    components: { VueRecaptcha },

    data () {
      return {
        captcha: ''
      }
    },

    methods: {
      async login () {
        const response = await auth.login({
          email: 'andrey.yartsev.g@gmail.com',
          password: 'otherpass',
          captcha: this.captcha
        })
        console.log(await response.json())
      },
      onCaptchaVerified (recaptchaToken) {
        this.captcha = recaptchaToken
      },
      onCaptchaExpired: function () {
        this.$refs.recaptcha.reset();
      }
    }
  }
</script>

<style scoped>
  .a {
    fill: none;
  }

  .b, .e, .f {
    fill: #ff4081;
  }

  .c {
    fill: #9466ff;
  }

  .d {
    fill: #2196f3;
  }

  .e {
    opacity: 0.5;
  }

  .f {
    opacity: 0.2;
  }
</style>
